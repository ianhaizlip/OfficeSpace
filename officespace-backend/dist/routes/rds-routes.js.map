{"version":3,"sources":["../../src/routes/rds-routes.js"],"names":["User","require","module","exports","app","get","req","res","find","err","users","status","json","end","findOne","params","id","user","persona","post","body","save","put","updateObject","Object","assign","updatedAt","Date","findOneAndUpdate","_id","new","console","log","delete","deleteOne"],"mappings":"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","file":"rds-routes.js","sourcesContent":["const User = require('../models/user');\n\nmodule.exports = (app) => {\n    //get user all users\n    app.get('/api/users', (req, res) => {\n        User.find({}, (err,users)=>{\n            if(err){\n                res.status(500).json(err);\n            }\n\n            else{\n                res.status(201).json(users);\n            }\n        });\n        res.end('get request received /api/users')\n    });\n    //get one user\n    app.get('/api/users/:id', (req, res) => {\n        User.findOne({ '_id': req.params.id }, (err,user)=>{\n            if(err){\n                res.status(500).json(err);\n            }\n\n            else{\n                res.status(201).json(persona);\n            }\n        });\n        res.end('get request received /api/user/:id')\n    });\n    //create a user\n    app.post('/api/user', (req, res) => {\n        (new User(req.body).save((err, user) => {\n                if(err){\n                    res.status(500).json(err);\n                }\n\n                else{\n                    res.status(201).json(user);\n                }\n\n            }\n        ));\n        //console.log(req.params);\n        //res.end('post request received /api/persona')\n    });\n    //update user\n    app.put('/api/user/:id', (req, res) => {\n\n        const updateObject = Object.assign({updatedAt: new Date()}, req.body);\n        User.findOneAndUpdate({_id: req.params.id}, updateObject, {new:true}, (err,user)=>{\n            if(err){\n                res.status(500).json(err);\n            }\n\n            else{\n                res.status(201).json(user);\n            }\n        });\n\n        console.log(req.params);\n        console.log(req.body);\n    });\n    //delete user\n    app.delete('/api/user', (req, res) => {\n\n        User.deleteOne({_id: req.params.id}, (err)=>{\n            if(err){\n                res.status(500).json(err);\n            }\n\n            else{\n                res.status(201).json({});\n            }\n        });\n        console.log(req.params);\n        //res.end('delete request received /api/persona:id')\n    });\n};"]}